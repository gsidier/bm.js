<html>
<head>
	<title>bm.js test page</title>
	<script src="bm.js"></script>
	<script src="js/jquery.js"></script>
	<script src="js/jquery.flot.js"></script>
	
	<style>
		div.bmplot {
			width: 90%;
			height: 60%;
			border: 1px solid black;
		}
	</style>
	
</head>
<body>
	<div id="bmplot" class="bmplot" ></div>
	
	<script>
		
		function range(a, b, step) {
			step = step || 1;
			var res = [];
			for (var x = a; x < b; x += step) {
				res.push(x);
			}
			return res;
		}
		function map(x, func) {
			var res = [];
			for (var i = 0; i < x.length; i ++) {
				res.push(func(x[i], i));
			}
			return res;
		}
		function linspace(a, b, n) {
			var res = [];
			for (var k = 0; k < n; k ++) {
				res.push(a + (b - a) * k / n);
			}
			return res;
		}
		function zip(x, y) {
			var res = [];
			var n = Math.min(x.length, y.length);
			for (var k = 0; k < n; k ++) {
				res.push([x[k], y[k]]);
			}
			return res;
		}
		function sum(x) {
			var res = 0;
			for (var i = 0; i < x.length; i ++) {
				res += x[i];
			}
			return res;
		}
		function mean(x) {
			return sum(x) / x.length; 
		}
		
		var dx, xx, yy, data;
		
		$(document).ready(function() {
			
			dx = 1. / Math.pow(2, 10);
			xx = range(0, 1, dx);
			yy = map(xx, function(x) { return bmjs.bm(x) });
			xy = zip(xx, yy);
			
			$.plot("#bmplot", [xy]);
		});
	</script>
</body>
</html>
